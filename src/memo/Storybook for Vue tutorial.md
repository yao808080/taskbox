# Set up Vue Storybook

```SHELL
PS C:\dev\storybook\> npx degit chromaui/intro-storybook-vue-template taskbox

PS C:\dev\storybook\> cd taskbox

PS C:\dev\storybook\taskbox> node --version
v18.12.1
PS C:\dev\storybook\taskbox> npm install --global yarn

added 1 package, and audited 2 packages in 1s

found 0 vulnerabilities

PS C:\dev\storybook\taskbox> yarn
yarn install v1.22.19
warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to a[1/4] Resolving packages...
[3/4] Linking dependencies...
warning "eslint-plugin-storybook > @typescript-eslint/utils > @typescript-eslint/typescript-estree > tsutils@3.21.0" has unmet peer dependency "typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta".
[4/4] Building fresh packages...
success Saved lockfile.
Done in 57.52s.
PS C:\dev\storybook\taskbox> yarn --version
1.22.19
PS C:\dev\storybook\taskbox> node --version
v18.12.1
PS C:\dev\storybook\taskbox>
```

Storybook起動
```SHELL
yarn storybook
```
![Alt text](image.png)

アプリケーション起動
```SHELL
yarn dev
```
![Alt text](image-2.png)


GITリポジトリ作成
```SHELL
cd C:\dev\storybook
mkdir taskbox.git
cd taskbox.git
git init --bare --shared

cd C:\dev\storybook\taskbox
git init
git add .
git commit -m "first commit"

git remote add origin "C:\dev\storybook\taskbox.git"
git push origin master

```

テスト対象の画面コンポーネント"Task.vue"を作成

"Task.vue"に対応するstory "Task.stories.js"を作成

storiesに含めるため"main.js"を修正

見た目を反映させるため"preview.js"にCSSのリンクをインポート

![Alt text](image-3.png)

Taskアプリの開発を進める
src\components\Task.vue

![Alt text](image-4.png)
![Alt text](image-5.png)
![Alt text](image-6.png)
![Alt text](image-7.png)


src\App.vueを修正してTaskを設定して同じ結果なのを確認
![Alt text](image-8.png)


### アクセシビリティの問題を把握する

Webアクセシビリティ品質を向上/改善するための手引き（ガイドライン）となるWCAG（a11y）とテストを同時に改善する
ストーリーブック公式のアクセシビリティアドオンを取り込む

```SHELL
PS C:\dev\storybook\taskbox> yarn add --dev @storybook/addon-a11y
yarn add v1.22.19
warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
[1/4] Resolving packages...
[2/4] Fetching packages...
[3/4] Linking dependencies...
warning "eslint-plugin-storybook > @typescript-eslint/utils > @typescript-eslint/typescript-estree > tsutils@3.21.0" has unmet peer dependency "typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta".
[4/4] Building fresh packages...

success Saved lockfile.
success Saved 33 new dependencies.
info Direct dependencies
└─ @storybook/addon-a11y@7.5.3
info All dependencies
├─ @floating-ui/core@1.5.0
├─ @floating-ui/dom@1.5.3
├─ @floating-ui/react-dom@2.0.2
├─ @radix-ui/number@1.0.1
├─ @radix-ui/react-arrow@1.0.3
├─ @radix-ui/react-dismissable-layer@1.0.4
├─ @radix-ui/react-focus-guards@1.0.1
├─ @radix-ui/react-focus-scope@1.0.3
├─ @radix-ui/react-popper@1.1.2
├─ @radix-ui/react-portal@1.0.3
├─ @radix-ui/react-select@1.2.2
├─ @radix-ui/react-separator@1.0.3
├─ @radix-ui/react-toggle-group@1.0.4
├─ @radix-ui/react-toggle@1.0.3
├─ @radix-ui/react-toolbar@1.0.4
├─ @radix-ui/react-use-escape-keydown@1.0.3
├─ @radix-ui/react-use-previous@1.0.1
├─ @radix-ui/react-use-rect@1.0.1
├─ @radix-ui/react-use-size@1.0.1
├─ @radix-ui/react-visually-hidden@1.0.3
├─ @storybook/addon-a11y@7.5.3
├─ aria-hidden@1.2.3
├─ axe-core@4.8.2
├─ detect-node-es@1.1.0
├─ get-nonce@1.0.1
├─ invariant@2.2.4
├─ react-remove-scroll-bar@2.3.4
├─ react-remove-scroll@2.5.5
├─ react-resize-detector@7.1.2
├─ regenerator-runtime@0.14.0
├─ tiny-invariant@1.3.1
├─ use-callback-ref@1.3.0
└─ use-sidecar@1.1.2
Done in 20.75s.
PS C:\dev\storybook\taskbox> 
```

.storybook/main.jsにアドオンを追加

アドオンがテスト状態の 1 つでアクセシビリティの問題を発見したことがわかります。メッセージ「Elements must meet minimum color contrast ratio thresholds」(要素には十分な色のコントラストが必要です)
![Alt text](image-9.png)

タスクのタイトルと背景の間に十分なコントラストがないことを意味します。アプリケーションの CSS ( にありますsrc/index.css) でテキストの色を濃い灰色に変更することで、この問題をすぐに修正する
![Alt text](image-14.png)

src/index.cssのcolorを修正

![Alt text](image-11.png)